# Generated by Salt.
{%- from "neutron/map.jinja" import server with context %}

# defaults for neutron-server

# path to config file corresponding to the core_plugin specified in
# neutron.conf
#NEUTRON_PLUGIN_CONFIG="/etc/neutron/plugins/openvswitch/ovs_neutron_plugin.ini"

{%- if server.backend.engine in ["ml2", "ovn"] %}
NEUTRON_PLUGIN_CONFIG="/etc/neutron/plugins/ml2/ml2_conf.ini"
{%- endif %}

{%- if server.backend.engine == "contrail" %}
NEUTRON_PLUGIN_CONFIG="/etc/neutron/plugins/opencontrail/ContrailPlugin.ini"
{%- endif %}

{%- if server.backend.engine == "vmware" %}
NEUTRON_PLUGIN_CONFIG="/etc/neutron/plugins/vmware/nsx.ini"
{%- endif %}

{%- if server.logging.log_appender %}
DAEMON_ARGS="${DAEMON_ARGS} --log-config-append=/etc/neutron/logging/logging-neutron-server.conf"
{%- endif %}

{%- if server.l2gw is defined and server.l2gw.get('enabled', False) %}
DAEMON_ARGS="${DAEMON_ARGS} --config-file=/etc/neutron/l2gw_plugin.ini"
{%- endif %}
